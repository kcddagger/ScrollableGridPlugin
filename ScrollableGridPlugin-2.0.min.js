function MakeScrollable(n,t){for(var f,u,s,h,c,r,e,l,a=n.id,v=n.offsetHeight,o=[],i=0;i<n.getElementsByTagName("TH").length;i++)o[i]=n.getElementsByTagName("TH")[i].offsetWidth;for(n.parentNode.appendChild(document.createElement("div")),f=n.parentNode,u=document.createElement("table"),i=0;i<n.attributes.length;i++)n.attributes[i].specified&&n.attributes[i].name!="id"&&u.setAttribute(n.attributes[i].name,n.attributes[i].value);for(u.style.cssText=n.style.cssText,u.appendChild(document.createElement("tbody")),u.getElementsByTagName("tbody")[0].appendChild(n.getElementsByTagName("TR")[0]),s=u.getElementsByTagName("TH"),h=n.getElementsByTagName("TR")[0],i=0;i<s.length;i++)c=o[i]>h.getElementsByTagName("TD")[i].offsetWidth?o[i]:h.getElementsByTagName("TD")[i].offsetWidth,s[i].style.width=parseInt(c)+"px",$("tr",$(n)).each(function(){$("td",this).eq(i).css("width",c)});f.removeChild(n);r=document.createElement("div");r.id="header"+a;r.appendChild(u);f.appendChild(r);e=document.createElement("div");r=document.getElementById(r.id);r.style.width="9999999999999px";l=r.getElementsByTagName("table")[0].offsetWidth;r.style.width=l+17+"px";e.style.cssText="overflow:auto;height:"+t.ScrollHeight+"px;width:"+(l+17)+"px";e.appendChild(n);f.appendChild(e);t.Width>0&&(f.style.cssText="overflow:auto;width:"+t.Width+"px")}(function(n){n.fn.Scrollable=function(t){var t=n.extend({ScrollHeight:300,Width:0,IsInUpdatePanel:!1},t);return this.each(function(){var r=n(this).get(0),u=r.id,i;MakeScrollable(r,t);t.IsInUpdatePanel&&(i=Sys.WebForms.PageRequestManager.getInstance(),i!=null&&i.add_endRequest(function(){MakeScrollable(n("#"+u).get(0),t)}))})}})(jQuery);